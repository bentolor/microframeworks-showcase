<!doctype html>
<!--suppress RequiredAttributes, HtmlFormInputWithoutLabel, CssUnusedSymbol -->
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Schlank in den Service: Der große Java-Microframework-Test!</title>
    <meta name="description"
          content="Jedes Frühlings-Deployment ist er wieder da: der Bytecode-Winterspeck.
          Und alle Jahre wieder sagen wir ihm den Kampf an, denn der Trend geht zu schlanken
          und spezialisierten Lösungen: Sei es als Microservice oder Stand-alone-Anwendung.
          Schließlich naht der Produktivgang, und wer will schon beim Deployment eine schlechte Figur machen?

          Das große Fasten macht inzwischen auch vor Java nicht halt. Microframeworks üben sich im
          stringenten Verzicht, und das nicht nur für die schlanke Linie: Ihre Idee ist es, elegante,
          flexible auf ein Thema fokussierte Rahmenwerke für eine Problemstellung, in der Regel
          Webanwendungen, anzubieten. Aber welche Diät ist die richtige? Wie können wir nicht nur
          erfolgreich, sondern auch mit Freude und vor allem gesund abnehmen?

          Wir erklären anhand einer Beispielanwendung im REST-Architekturmuster überflüssigen Pfunden
          den Krieg und testen fünf ausgewählte JVM Schlankheitsexperten im Vergleich: Zu den
          Kandidaten gehören das elegante an Sinatra angelehnte Spark Java, der modulare Multifunktions-
          Baukasten Jodd, Ninja als integrierten Softwarestack, das reaktive Ratpack sowie als Referenz
          den Platzhirsch Spring Boot. Wir schauen auf Stärken und Schwächen und vergleichen am Codebeispiel,
          wie gut sie ihrem Anspruch an eine schlankere Source- oder Bytecode-Linie gerecht werden können.">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/solarized-light.css">

    <!-- Custom, overriding CSS -->
    <link rel="stylesheet" href="css/custom.css">

    <link rel="stylesheet" href="css/chartist.min.css">
    <script src="js/chartist.min.js"></script>

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<img src="img/eXXcellent%20logo-transparent.png" id="exxcellent-logo"
     alt="eXXcellent solutions GmbH Logo"
/>

<div class="reveal">
    <div class="slides">

        <!--
          === Title ===============================================================================
        -->

        <section>
            <a href="https://www.exxcellent.de" style="width: 320px; position: absolute; top: 0; left: 0;">
                <img data-src="img/logo-exxcellent-transparent.png"
                     class="plain" alt="eXXcellent solutions GmbH"
                />
            </a>

            <div style="text-align: right;">
                <h2 style="margin: 360px 0px 0 0; font-size: 1.7em; text-transform: none;">
                    <span class="emphasize"><i>Schlank in den Service: </i><br> </span>
                    Der große Java-<br>Microframework-Test!
                </h2>
            </div>

            <div id="version">
                2018-03-13
            </div>

            <div class="profile" style="position: absolute; top: 0; left: 900px;">
                <div class="profile-sidebar">
                    <div class="profile-userpic">
                        <img data-src="img/ben-portrait.jpg" class="img-responsive" alt="">
                    </div>
                    <div class="profile-usertitle">
                        <div class="profile-usertitle-name">
                            Benjamin Schmid
                        </div>
                        <div class="profile-usertitle-job">
                            Technology Advisor
                        </div>
                    </div>
                </div>
                <div class="profile-content">
                    <a href="https://twitter.com/bentolor">@bentolor</a>
                </div>
            </div>

            <!--<div id="rightsection">
                <code>?</code> for help
            </div>-->

            <div id="licence">
                <!--suppress HtmlUnknownAttribute -->
                <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/InteractiveResource"
                      property="dct:title" rel="dct:type">
                    Schlank in den Service: Der große Java-Microframework-Test!
                </span>
                by
                <a xmlns:cc="http://creativecommons.org/ns#" href="https://twitter.com/bentolor"
                   property="cc:attributionName" rel="cc:attributionURL">
                    Benjamin Schmid
                </a>
                is licensed under a
                <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
                    Creative Commons License (BY-NC-SA/4.0)
                </a>.
                <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
                    <img alt="Creative Commons Lizenzvertrag"
                         src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"/>
                </a>
            </div>


            <!--  @formatter:off -->
            <aside class="notes" data-markdown>
                * Freue mich heute hier, in diesem stilvolle Ambiente sein zu dürfen
                * **Java Plattform**
                    * Beeindruckende Plattform
                    * **wahnsinnig viele**, attraktive & leistungsfähige Tools, Frameworks & freie Lösungen
                * *Lange Historie* führt teils auch zu vielen **Verwachsungen**, Bloat, Schwerfälligkeiten
                    * Kennt z.B. jemand die [FizzBuzz Enterprise Edition](http://www.fizzbuzz.enterprises/)?
                    * _ made by serious businessmen for serious business_
                    * %3==0: Fizz, %5=0: Buzz in 89 Java Klassen und 3,8kLOC
                * Trend weg vom Monolithen zu **kleineren, besser managebaren Einheiten**
                    * Gelingt das auch unter Java?
                    * Das wollen wir herausfinden und in dieser Session ein paar Inspirationen sammeln
            </aside>
            <!--  @formatter:on -->
        </section>


        <!--
          === Motivation ============================================================================
        -->
        <section>
            <section data-background-video="img/microjs-site-demo.webm"
                     data-background-video-loop="true"
                     data-background-size="contain"
                     data-background-color="#111414">
                <div style="position: absolute; right: 0; top: 700px; width: 100%;
                            text-align: right; padding: 6px 32px;
                            background-color: rgba(225,20,206,0.4);">
                    http://microjs.com/
                </div>
                <!--<iframe src="http://microjs.com/" style="width: 1000px; height: 600px;"></iframe>-->

                <aside class="notes" data-markdown>
                    ##### Woher stammt der Begriff „Microframework“?
                    * Ursprünglich aus der Javascript-Welt. Eh schon kleinteilig.
                    * Bestimmte Bibliotheken wie jQuery wurden zum Standard.
                    Jede Mini-Website -> 100kB+ initial payload
                    * Gegenbewegung: Minimalismus. **„Nur das nötigste!“** – jedes Byte zählt
                </aside>
            </section>

            <section>
                <h3>Microservice Architektur</h3>
                <img src="img/microservices-architektur.png"
                     alt="Overview Microservice Architektur"
                     style="max-width: 84%;"
                     class="plain">
                <p class="fragment">
                    <span class="underline">Entscheidend:</span> <em>Geringe Komplexität/Aufwand</em> sowie <em>geringe
                    Größe</em>
                </p>

                <!--  @formatter:off -->
                <aside class="notes" data-markdown>
                    ### Nur das Nötigste…
                    … auch für Microservice Architekturen sinnvoll!

                    * Microservice-Architektur: komplexe Anwendungslogik aus
                    voneinander unabhängigen, wiederverwendbaren Prozessen zusammengesetzt
                    * Die _einzelnen Dienste_ sind dabei weitestgehend voneinander _entkoppelt_ und _klein_
                        * In voller Ausbaustufe sind teils auch elementare Dienste wie Peristenz separat
                    * Ziel des Musters ist, am Ende **besser managebare und wiederverwendbare** Einzelteile zu haben.

                    &rightarrow; **Geringe Komplexität  &amp; Gewicht sowie schnelle Ergebnis**
                    sind essentielle Kernqualitäten.
                </aside>
                <!--  @formatter:on -->

            </section>

            <section>
                <img src="img/ben-avatar.png" alt="Ben's Avatar" class="plain"
                     style="position: absolute; left: 180px; top: 410px; transform: scale(6);">
                <div style="position: absolute; left: 320px; top: 155px;">
                    <div class="bubble">
                        <h4>Java Microframeworks:</h4>
                        <i>„Elegante, flexible auf <b>ein Thema</b> fokussierte Rahmenwerke
                            für eine Problemstellung (in der Regel Webanwendungen) mit dem Ziel
                            einer <b>schlankere Source- und/oder Bytecode</b>-Linie“</i>
                    </div>
                </div>
                <aside class="notes" data-markdown="">
                    #### Meine, abgewandelte Definition von Microframework
                    * Begriff nicht ganz scharf.
                    * Im Angloamerikanischen zunehmen: a) _nur_ Webframework b) _ohne Alles_
                    * Wir: **Auf ein Thema** und **leichtgewichtig in Verwendeung und/oder Bytecode**
                </aside>
            </section>

            <section class="center">
                <h2><u>Die Kandidaten</u></h2>

                <div class="logogrid" style="margin-top: 90px;">
                    <div><img src="img/logo-jodd.png" alt="Jodd"></div>
                    <div><img src="img/logo-ninja.png" alt="Ninja"></div>
                    <div><img src="img/logo-ratpack.png" alt="Ratpack" style="margin-top: -12px;"></div>
                    <div><img src="img/logo-spark.svg" alt="Spark Java"
                              style="transform: scale(1.7); margin-top: -21px;"></div>
                    <div><img src="img/logo-spring.png" alt="Spring 5"></div>
                </div>

                <aside class="notes" data-markdown>
                    ### Unser Kandidatenfeld
                    * Nur eine __Auswahl__ für __verschiedene Stile/Vertreter__
                    * Schau soll uns **Inspiration** und Gegenüberstellung liefern

                    _Aber worüber vergleichen?_
                </aside>

            </section>

        </section>


        <!--
          === Demo App: Architektur ==================================================================
        -->
        <section>
            <section data-background-image="img/igor-ovsyannykov-520422-unsplash.jpg">
                <img src="img/note-pad-1425759.png" alt="Einkaufsliste"
                     class="plain abs fragment fade-right shadow-down"
                     style="left: 200px; top: 300px; transform: scale(17) rotate(-3deg);">

                <img src="img/grocery-architecture-plain.png" alt="Microservice Architektur"
                     class="plain abs fragment fade-in shadow-up"
                     style="left: 800px; top: 440px; transform: scale(18) rotate(2deg);">

                <img src="img/grocery-architecture-rest.png" alt="Microservice Architektur"
                     class="plain abs fragment fade-in"
                     style="left: 800px; top: 440px; transform: scale(18) rotate(2deg);">

                <aside class="notes" data-markdown>
                    * Als Vergleichsgrundlage dient uns eine kleine Anwendung zur Verwaltung von
                    Einkaufslisten.
                    * Wir wollen Einkaufslisten anlegen können und online darauf jederzeit
                    Einkaufspositionen **anlegen, lesen, verändern oder wieder löschen** können.
                    * Sprich: In unserem Beispiel geht es um eine **klassische CRUD Anwendung**.

                    ---
                    Wie wir die einzelnen Teile effizient realisieren, lernen wir im Verlauf unserer
                    Reise durch die Kandidaten

                    ---
                    Ganz im Sinne eines Microframeworks soll unsere Anwendung dem RESTful Pattern
                    folgen.

                    Im ersten Schritt geht es also darum, **die CRUD Operationen auf HTTP-Routen zu mappen**.
                    Sprich ganz klassisch wird Anlegen zu einem HTTP `POST`, lesen zu einem `GET`, Update zu `PUT`
                    usw.
                </aside>
            </section>
        </section>


        <!--
          === Spark ==================================================================================
        -->
        <section>
            <section class="center">
                <img src="img/logo-spark.svg" class="plain tgap" width="600"/>
                <h3 class="tgap"><em><i>Eleganter Zündfunken</i></em></h3>

                <aside class="notes" data-markdown>
                    Werfen wir einen Blick auf unseren ersten Kandidaten!

                    Hier handelt es sich um den eleganten Zündfunken „Spark Java“ –
                    bitte nicht mit Apache Spark für Cluster Computing verwechseln!
                </aside>
            </section>

            <section>
                <div class="right">
                    <h2 class="large">Datenblatt</h2>

                    <p class=""><i>Sinatra-inspiriert<br>
                        Minimaler Boilerplate<br>
                        Ausdrucksstärke<br>
                        Standalone (Jetty 9)</i></p>
                    <!--<p class="decent subline x-small">populäres Ruby-Webframework</p>-->

                    <p>Java 8 & Kotlin</p>
                    <p class="decent subline x-small">zusätzliche Spark-DSL unter Kotlin</p>

                    <p class="decent x-small tgapxl">
                        2.7.1 (Nov. 2017), APL2<br>
                        Start: ~Feb. 2013<br>
                        <a href="http://sparkjava.com">http://sparkjava.com/</a>
                    </p>
                </div>

                <div class="abs" style="position: absolute; z-index: 1; width: 820px; height: 560px;
                margin-top: 26px; overflow-x: hidden;">
                    <!--<iframe style="width: 810px; height: 560px; overflow-x: hidden;"-->
                    <!--src="http://sparkjava.com/"></iframe>-->
                    <img style="width: 810px; height: 2743px; max-height: inherit;"
                         class="plain"
                         src="img/website-sparkjava.png">
                </div>

                <!--  @formatter:off -->
                <aside class="notes" data-markdown>
                    Spark Java richtet sich an Java 8 & Ergänzungen für Kotlin.

                    * Spark Java hat seine spirituellen Wurzeln im Ruby-Framework Sinatra
                    * Fokus: **Minimaler Boilerplate** & **Ausdrucksstärke**
                    * Richtet sich an **Standalone-Applikationen**
                    * Wie alle Kandidaten hier: _Freizügige APL2-Lizenz_
                    * **~5 Jahre alt**
                    * Kotlin ergänzende DSL (Geschmackssache)

                    _Randnotiz: Spezielle Kotlin-Versionen unnötig. Oft nur extra Komfort bzw. reduzierter DSLs.
                    So auch hier! Einige Kandidaten haben Kotlin Addons._

                    ---
                    ### Jetzt: Eindrücke in Coding Demo!
                </aside>
                <!--  @formatter:on -->
            </section>

            <section data-background-video="img/screencast-hellospark.webm"
                     data-background-size="contain">
                <aside class="notes" data-markdown>
                    1. Beginne mit einem leeren Projekt
                    Arbeiten mit _Gradle_, legen dazu ein neues Gradle Buildfile an.
                    2. Da wir **Standalone** Arbeiten wollen &rightarrow; `application` Plugin,  <!-- -->
                    Definieren die Einstiegsklasse, holen uns als einige Dependency `spark-core`
                    … und beginnen mit unsere Anwendung

                    ---
                    1. Spark = **Deklarativ.** Sprich wir definieren Routen
                    * Also Pfad, welche Inhalte wir darüber ausliefern und einen Handler der die Route bedient.
                    * Für etwas mehr Spass auch ein Beispiel mit URL Parameter
                    2. Wir bauen & starten. **Das entspricht einem einfachen Start der `main`-Methode!**
                    … und testen unseren Microservice. Fertig!

                    **Sehr elegant & Prägnant**. Kein Boiler-Code. Server **startet implizit.**
                    Belange kann man optional **konfigurieren** (Port, SSL, …).

                    **Ich denke das Beispiel spricht für sich!**
                </aside>
            </section>

            <!--<section>
                <h2>Quick-Start #1 <code>build.gradle</code></h2>

                <pre><code>apply plugin: 'java'
apply plugin: 'application'

repositories {
    jcenter()
}

dependencies {
    mainClassName = 'bentolor.HelloSpark'
    compile         'com.sparkjava:spark-core:2.5'
}</code></pre>
            </section>


            <section>
                <h3>Quick-Start #2 <code>build.gradle</code></h3>

                <pre><code class="java">package bentolor.sparkjava;

import static spark.Spark.*;

public class HelloWorld {

    public static void main(String[] args) {
        get("/hello", "text/plain", (req, res) -> "Hello World!");

        get("/greet/:name", "text/plain",
            (req, res) -> "Hello "+req.params("name")+"!");
    }

}</code></pre>
            </section>-->

            <section class="left center">
                <div data-markdown style="width: 46%; margin: 0 auto;">
                    ## Kern-Konzepte

                    1. *DSL* zur Definition von *Routen*   <!-- -->
                    `methode(pfad, type, callback)`
                    2. zusätzlich: Filter & Transformer
                    3. optional: Template Engine Support

                    *Mehr nicht!*
                </div>
                <aside class="notes" data-markdown="">
                    * DSL zur Definition von **HTTP Routen** wie `GET`,`POST`,`PUT` etc. mit den
                    _klasssichen HTTP Mitteln (Parameter, Sessions, …)_.
                    * Spark bundlet Jetty 9. Logging. Sonst keine weiteren Abhängigkeiten.
                    * Neben Routen **ergänzende Detailstrukturierungsmittel** wie Filter, Transformer
                    * **Auch Antworterstellung erst mal nicht Bestandteil! Dafür gibt es aber Extension**
                </aside>
            </section>

            <section>
                <!--  @formatter:off -->
                <div data-markdown>
                    ## Templating

                    ```java
                    get("/greet/:name", "text/html", (req, res) -> {
                        String name = req.params("name");
                        Map&lt;String, String&gt; values = new HashMap&lt;&gt;();
                        values.put("name", name != null ? name : "Anon");
                        return new JadeTemplateEngine().render(
                            new ModelAndView(values, "greet")
                        );
                    });
                    ```

                    ##### z.B. mit Jade4j Template `greet.jade`
                    ```
                    doctype html
                    html
                        body
                            h1 Welcome to my Microservice
                            p Dear #{name}, welcome to my web-based Microservice endpoint
                    ```

                    <span class="small"><i>Alternativ:</i>  Velocity, Freemarker, Mustache,
                        Handlebars, Thymeleaf & 5 weitere …</span>
                </div>
                <!--  @formatter:on -->

                <aside class="notes" data-markdown>
                    Foo bar.
                    * Verschiedene Templating-Extensions binden dritte Template Engines ein und machen diese
                    für Antworten verfügbar
                    * **Entweder:** man übergibt an der Route einen Transformer mit, der die Rückhabe des Callbacks
                    passend rendert
                    * **Oder:** wir machen es wie hier und geben direkt den gerenderten Inhalt zurück
                    * Das `ModelAndView`-Objekt enthält die in das einzusetzende Daten und den Namen des
                    anzuwendenden Templates

                    ---
                    Im Beispiel sehen wir z.B: die Jade4j Templating Engine die besonders kompakte Notation für
                    HTML Inhalte erlaubt. Im Beispiel wird am Platzhalter der Wert für `name` eingesetzt.

                    Andere Engine wie Freemarker & Co. bieten natürlich deutlich mehr Logik.
                </aside>
            </section>


            <section class="scorecard">
                <div>
                    <!-- Name & Logo -->
                    <div class="name" style="">
                        <h4><img src="img/logo-spark.svg">Spark Java</h4>
                    </div>

                    <!-- Personality -->
                    <div class="personality">
                        <p class="small lh1">
                            Elegant &amp; Minimalistisch
                            <br>Sinatra-inspiriert. Deklarativ.
                        </p>
                        <p class="x-small decent subline" style="margin: -.9em 0; ">
                            <br>Strukturierung: Routen, Filter, Transformer,
                            <br>optional Template Engines – That's it!
                        </p>
                    </div>

                    <!-- Bundles -->
                    <div class="bundles decent">
                        <p class="x-small subline"><br>Jetty 9, slf4j</p>
                    </div>

                    <!-- Comment -->
                    <div class="comment small">
                        <p>
                            Sehr schnell erste Ergebnisse.
                            <br>Macht Spaß in der Verwendung!
                        </p>
                        <p>
                            Minimalismus bedeutet aber auch: <br>
                            Zergliederung, Fehlerbehandlung
                            Antwortseiten in Entwicklerverantwortung
                        </p>
                        <p>
                            Dokumentation könnte umfassender & gründlicher sein.
                            Code aber gut verständlich & debugbar
                        </p>
                    </div>

                    <!-- Position indexes -->
                    <div class="micro">|&nbsp;</div>
                    <div class="fun">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</div>
                    <div class="boss">&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;</div>


                    <!-- Bytecode -->
                    <div class="bytecode"><b>2,7</b></div>

                    <!-- Req/s -->
                    <div class="req">4,9</div>

                    <!-- Avg. Req -->
                    <div class="reqavg">81</div>

                    <!-- Req/s -->
                    <div class="reqdev">39</div>
                </div>

                <!--  @formatter:off -->
                <aside class="notes" data-markdown>
                    * Das erste Microframework haben wir schon kennengelernt.
                    Nun geht es an die Bewertung.
                    *  **Vorstellung Scoresheet:**
                        * _Bossability, Micro, Fun_
                        * Performance: Gesamtbytecode meiner Referenz-Lösung als Single-JAR &amp; Durchsatz (ungetuned)
                    ---
                    * Wie Sinatra: **DSL für Routen** das zentrale Strukturierungsmittel
                    * Über Routen werden HTTP-Anfragen auf Callbacks umgeleitet.
                        * Diese verarbeiten und beantworten die Requests
                        * Ansonsten nur noch Filter, Transformer: Fertig! --> Elegant & Minimalistisch
                    * sinnvolle _Zergliederung der Logik,_ _Fehlerbehandlung_ oder die Art um die Antwortseiten
                      zu erzeugen, überlässt Spark vollständig dem Entwickler (optional Templating Engines)
                    * Doku ist "okay". Code aber gut überschaubar.
                </aside>
                <!--  @formatter:on -->

            </section>

        </section>

        <!--
          === Demo App: Model     =============================================================
        -->
        <section>
            <section data-background-image="img/igor-ovsyannykov-520422-unsplash.jpg">
                <img src="img/note-pad-1425759.png" alt="Einkaufsliste"
                     class="plain abs fade-right    shadow-down"
                     style="left: 200px; top: 300px; transform: scale(17) rotate(-3deg);">

                <img src="img/grocery-architecture-plain.png" alt="Microservice Architektur"
                     class="plain abs shadow-up"
                     style="left: 800px; top: 440px; transform: scale(18) rotate(2deg);">

                <img src="img/grocery-architecture-model.png" alt="Microservice Architektur"
                     class="plain abs fragment fade-in"
                     style="left: 800px; top: 440px; transform: scale(18) rotate(2deg);">

                <aside class="notes" data-markdown>
                    Zurück zu unserer Beispiel Anwendung: Nachdem wir die Routen haben, geht es an das Model.
                    Wie können wir hier Prägnanz erreichen?
                </aside>
            </section>


            <section class="container">
                <!--
                    ```groovy
                    plugins {
                        id 'io.franzbecker.gradle-lombok' version '1.11'
                    }

                    lombok {
                        sha256 = "" // skip verifyLombok
                    }
                    ```
                -->
                <!--  @formatter:off -->
                <div data-markdown style="width: 68%; margin: 0 auto;">
                    ### Model: POJOs mit Lombok

                    ```java
                    /** A shopping list for groceries. */
                    @Data
                    @NoArgsConstructor
                    @AllArgsConstructor
                    public class GroceryList implements ModelElement {

                        private UUID id;
                        private LocalDate date;
                        private String comment;
                        private boolean settled;
                        private Item[] shoppingItems;
                    }
                    ```
                </div>
                <div data-markdown class="fragment">
                    #### ... oder mit Kotlin
                    ```kotlin
                    data class GroceryList(val id: UUID, var date: LocalDate, var comment: String?,
                                    var isSettled: Boolean, var shoppingItems: List&lt;Item&gt;)
                    ```
                </div>
                <!--  @formatter:on -->

                <aside class="notes" data-markdown>
                    * Für mehr Effizienz in diesem Bereich greifen wir zu Lombok.
                    * Kein Extra Payload/Runtime! APT-Prozess der Bytecode verändert.
                    **Erzeugt hier Getter/Setter plus Konstruktor.**
                    * Unterstützt gängige IDEs und hat einige weitere Mittel.

                    #### Alternative Anwendung: Kotlin verwenden
                    Bringt z.B. _Data Classes_. Darüber hinaus aber ein Phletora an weiteren Effizenzfeatures
                    bei vollständiger Kompatiblität. Mehr dazu z.B. einen Talk am Ende verlinkt.

                    #### Persistenz
                    Die Persitenz machen wir einfach durch Serialisierung/Deserialisierung
                    des Models als JSON File.
                </aside>
            </section>

        </section>

        <!--
            === Ninja ============================================================================
        -->
        <section>

            <section class="center">
                <!--suppress CheckImageSize -->
                <img class="tgap plain" src="img/logo-ninja.png" width="818"/>
                <h3 class="tgap"><em><i>Spion mit Konventionen</i></em></h3>

                <aside class="notes" data-markdown>
                    Ein **ziemliches Kontrastprogramm** stellt dagegen unser nächster Kandidat dar:
                    Ninja will ein Universalkämpfer für die produktive Erstellung von Webanwendungen
                    sein und ähnelt vom Konzept eher dem Play!-Framework aus Scala.
                </aside>
            </section>


            <section>
                <div class="right">
                    <h2 class="large">Datenblatt</h2>
                    <p class="subline tgap"><i>CoC<br>
                        MVC<br>
                        Stateless<br></i></p>
                    <p>Full-Stack</p>
                    <p class="decent subline x-small">Hibernate, Guice, Jackson, <br>Flyway, Ehcache, …</p>
                    <p class="subline decent x-small">Nicht wirklich „Micro“</p>

                    <p class="decent x-small tgapxl">6.2.2 (Jan. 2018), APL2<br>
                        Start: Juli 2012<br>
                        <a href="http://www.ninjaframework.org/">http://www.ninjaframework.org/</a>
                    </p>
                </div>

                <div class="abs" style="position: absolute; z-index: 1; width: 900px; height: 560px; margin-top: 26px;">
                    <!--<iframe style="width: 940px; height: 560px;" src="http://www.ninjaframework.org/"></iframe>-->
                    <div style="width: 900px; height: 560px; overflow-x: hidden;">
                        <img class="plain" src="img/website-ninja.png"
                             style="max-width: 100%; max-height: inherit;"
                             alt="Website screenshot">
                    </div>
                </div>

                <aside class="notes" data-markdown>
                    Für **fast alle Schichten vom Frontend bis hin zur Datenbank** bringt Ninja
                    bereits eine integrierte Auswahl an Lösungen mit.

                    Mit _Jackson_ für JSON, _Hibernate_ für O/R-Mapping & Validierung,
                    _Guice_ zur CDI und weitere Tools wie _Flyway, Ehcache_ und Joda Time.

                    Kein „echtes“ Microframework nach Wikipedia, sondern auf wenig Code ausgerichtet. *6 Jahre alt.*

                    **Wichtigste Punkt: CoC** und **Gute Skalierbarkeit durch Stateless**
                </aside>
            </section>


            <section class="small left">
                <!--  @formatter:off -->
                <h2>Convention-over-Configuration (CoC)</h2>
                <div data-markdown class="twocol">
                    ##### Fixe Paket/Ordnerstruktur & MVC Pattern
                    * *Models:* Im Paket `model`
                    * *Routendefinitionen:*  In Klasse `conf.Routes`
                    * *Controller:* Im Paket `controller`
                    * *Views (MVC):* Freemarker-Template `views/CONTROLLER/METHOD.ftl.html`


                    ##### Konfiguration
                    * *Applikation:* `conf/application.conf`
                    * *Guice:*  `conf/Module.java`
                    * *I18N:* `conf/messages_XX.properties`
                </div>
                <!--  @formatter:on -->
                <!--  @formatter:off -->
                <div data-markdown class="twocol">
                    ##### Binding
                    * *Dependencies:*  Guice CDI.
                    * *Input Parsing:* via `Content-Type`
                    * *Bean Validation:* Automatisch bei passenden Controller-Methodensignaturen

                    ##### Persistenz
                    * *ORM:*  JPA und Guice Persist
                    * *Change Management:* mittels Flyway
                    * *I18N:* `conf/messages_XX.properties`
                </div>
                <!--  @formatter:on -->
                <aside class="notes" data-markdown>
                    Convention over Configuration (CoC) und MVC haben in Ninja einen hohen Stellenwert.
                    Das beginnt mit sehr konkreten Erwartungshaltungen in welchen Klassen und Paketen
                    die Anwendungslogik zu finden ist.

                    * Routen stets in der Klasse `conf.Routes`, Controller im `controllers`-Paket
                    * View als Freemarker-Template in `views/CONTROLLER/METHOD.ftl.html`. Eine dedizierte
                    Zuordnung wie bei Spark gesehen also nicht notwendig.
                    * Persistenz CDI, I18N, Bean Validation und Serialisierung/Deserialisierung
                    sind ebenfalls eng über Konventionen in den Stack eingebaut
                </aside>
            </section>

            <section data-markdown>
                <textarea data-template>
                    ## Ninja – Routen
                    ```java
                    package conf;

                    public class Routes implements ApplicationRoutes {

                      public void init(Router router) {
                          router.POST().route("/list")
                            .with(GroceryListController::createGroceryList);

                          router.GET().route("/list/{id}")
                            .with(GroceryListController::getGroceryList);

                          …
                      }
                    }
                    ```

                    <aside class="notes">
                    * Fixes Paket `conf`.
                    * Controllermethode mit "Java 8 Method References"
                    </aside>
                </textarea>
            </section>

            <section>
                <!--  @formatter:off -->
                <div data-markdown style="width: 980px;">
                    ## Ninja – Controller
                    ```java
                    package controllers;

                    @Singleton
                    public class GroceryListController {
                      @Inject private Repository repository;

                      public Result index() {
                        return html();
                      }

                      public Result createGroceryList(GroceryList newList) {
                        return ok().render(repository.createList(newList));
                      }

                      public Result getGroceryList(@PathParam("id") String id) {
                        Optional&lt;GroceryList&gt; match = repository.getList(id);
                        return match.isPresent()
                            ? json().render(match.get());
                            : notFound().render(new Message(id + " not found"));
                      }
                    ```
                </div>
                <!--  @formatter:on -->
                <div class="abs emphasize" style="top: 132px; left: 910px; width: 35%;">
                    <p style="text-align: left; line-height: .92em; font-size: 72%;">
                        <span class="fragment">&leftarrow; Immer: <code>controllers</code><br></span>
                        <br>
                        <br>
                        <br>
                        <span class="fragment">&leftarrow; Guice Dependency Injection<br></span>
                        <br/>
                        <span class="fragment">&leftarrow; Immer: <code>Result</code> <br></span>
                        <span class="fragment">
                            &leftarrow; <code class="xx-small">/GroceryListController/index.ftl.html</code>
                        </span><br>
                        <br>
                        <br>
                        <span class="fragment">&leftarrow; Request Body<br>
                            &nbsp;&nbsp;&nbsp;&nbsp; geparsed via <code>Content-Type</code><br></span>
                        <br>
                        <br>
                        <span class="fragment">&leftarrow; URL Parameter<br></span>
                        <br>
                        <br>
                        <span class="fragment">&leftarrow; Utility Methoden für <code>Result</code><br></span>
                    </p>
                </div>

                <aside class="notes" data-markdown>
                    * fixes Controller Paket
                    * Guice CDI
                    * Controller müssen `Result` Objekte zurückgeben
                    * Fest verdrahtet: wleche View
                    * Input Parsing: Automatische Deserialisierung
                    * Mapping von URL Parametern auf Aufrurfparameter
                    * Utility Methoden für Rückgabesteuerung (Code, JSON, …)
                </aside>
            </section>


            <section data-markdown class="center">
                <textarea data-template>
                    ## Kern-Konzepte
                    * Convention over Configuration <span class="decent">(CoC)</span>
                    * Model–View–Controller <span class="decent">(MVC)</span>
                    * <span class="fragment highlight-blue">Client-Side Sessions</span>
                    <span class="decent">&rightarrow; einfache Skalierbarkeit</span>

                    ##### Kombination bewährter Technologien

                    * <span class="decent">Backend:</span> Servlets, Guice, JPA, Flyway, …
                    * <span class="decent">Frontend:</span> Freemarker <span class="decent">(HTML)</span>
                    / Jackson <span class="decent">(XML, Jason)</span>

                    NOTE:
                    Die Reichweiter der Konventionen haben wir gesehen, ebenfalls wie konsequent der MVC-Ansatz
                    umgesetzt ist.

                    ---
                    Ninja ist **serverseitige Zustandslos!** D.h. keine Mittel für Server-seitige Session.
                    Stattdessen alle Zustandsinformationen als Cookie (auch verschlüsselt) auf dem Client
                    (max 64kb).

                    Nachteil: Session kann nur sehr kleine Datenmengen speichern.

                    Vorteil: Ninja-Applikationen inhärent horizontal skalierbar. Einfach weitere Server
                    hinter dem Loadbalancer aufstellen genügt!
                </textarea>
            </section>


            <section class="scorecard">
                <div>
                    <!-- Name & Logo -->
                    <div class="name" style="">
                        <h4><img src="img/logo-ninja.png">Ninja</h4>
                    </div>

                    <!-- Personality -->
                    <div class="personality">
                        <p class="small lh1">
                            Full Stack &amp; MVC
                            <br>Umfassende Konventionen
                            <br>Play!-inspired
                            Client-side Session
                        </p>
                        <p class="x-small decent subline" style="margin:  0;">
                            daher einfache Skalierbarkeit
                        </p>
                    </div>

                    <!-- Bundles -->
                    <div class="bundles decent">
                        <p class="xx-small subline">Jetty 9, Guice, Guava, Logback, Jackson,
                            <br>Woodstox, 6x commons-*, joda-time, ehcache,
                            <br>memcached, flyway, freemarker, hibernate, prettytime, slf4j</p>
                    </div>

                    <!-- Comment -->
                    <div class="comment small">
                        <p>Sehr umfassend. <br>Kombiniert viele etablierte Frameworks.</p>
                        <p>Architektur sehr stark vorgegeben. Wenig Flexibilität / Modularität</p>
                        <p>Umgehen von Detailproblemen durch monolithischen Ansatz teils schwer</p>
                        <p>Von Verbreitung eher Nische gegenüber Dropwizard/Spring Boot/Play!</p>
                    </div>

                    <!-- Position indexes -->
                    <div class="micro">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</div>
                    <div class="fun">&nbsp;&nbsp;&nbsp;&nbsp;|</div>
                    <div class="boss">&nbsp;&nbsp;|&nbsp;</div>


                    <!-- Bytecode -->
                    <div class="bytecode"><b>25</b></div>

                    <!-- Req/s -->
                    <div class="req">4,8</div>

                    <!-- Avg. Req -->
                    <div class="reqavg">82</div>

                    <!-- Req/s -->
                    <div class="reqdev red">127</div>
                </div>

                <aside class="notes" data-markdown>
                    Ninja ist ganz klar ein Full-Stack Framework das mit viel Konventionen
                    versucht Kürze im Sourcecode zu gewinnnen, mit 25MB aber nicht unbedingt
                    eine zu schlanke Bytecodelinie hat.

                    Interessant ist der _Share-nothing_ Ansatz der zur leichten Skalierbarkeit zwingt.

                    Die Bestandteile sind alles solide Technologien.

                    * Von Verbreitung her Nische, daher geringe Bossability. Schwer gegenüber
                    Platzhirschen zu vertreten.
                    * Nochmals verstärkt durch großen Umfang und mangelnde Flexiblität.
                    Der Aufbau und die Mittel sind stark vorgegeben und engen ein ("strongly opinionated").
                    Das macht das Ausbrechen schwer. Das machen viele andere besser.

                    * _Ausreißer Antwortzeiten!_ (1,1s Ausreiser. verm. GC).
                </aside>
            </section>

        </section>


        <!--
          === Demo App: UI ===========================================================================
        -->
        <section>
            <section data-background-image="img/igor-ovsyannykov-520422-unsplash.jpg">
                <img src="img/note-pad-1425759.png" alt="Einkaufsliste"
                     class="plain abs fade-right    shadow-down"
                     style="left: 200px; top: 300px; transform: scale(17) rotate(-3deg);">

                <img src="img/grocery-architecture-plain.png" alt="Microservice Architektur"
                     class="plain abs shadow-up"
                     style="left: 800px; top: 440px; transform: scale(18) rotate(2deg);">

                <img src="img/grocery-architecture-ui.png" alt="Microservice Architektur"
                     class="plain abs fragment fade-in"
                     style="left: 800px; top: 440px; transform: scale(18) rotate(2deg);">

                <aside class="notes" data-markdown>
                    Zurück zu unsere Demo-Anwendung:

                    Wie machen wir nun eigentlich die Oberfläche?

                    Ganz einfach – dazu kommt ein kleines Angular-basiertes Framework Namens
                    _ng-admin_ zum Einsatz.
                </aside>
            </section>

            <section data-background-video="img/screencast-ng-admin-ui.webm"
                     data-background-size="contain">
                <div style="position: absolute; left:-10%;
                            top: 700px; width: 116%; z-index: 10;
                            border-top: 2px solid #111;
                            padding: 6px 32px; color: #fff;
                            background-color: rgba(33,33,33,0.7);"
                     class="fade-in">
                    GUI in <b>64 Zeilen</b> mit <i>ng-admin</i> :
                    <a href="https://github.com/marmelab/ng-admin"
                       style="color: #ccf; text-decoration: underline;">
                        https://github.com/marmelab/ng-admin
                    </a>
                </div>

                <aside class="notes" data-markdown>
                    * Dazu ist nur 1 HTML Seite erforderlich: `index.html`
                    * **64 Zeilen:** Definition Felder, Anwenden auf Views.
                    * Darin binden wir ng-admin ein und konfigurieren und
                    Details des Erscheinungsbilds für die Views
                    * Mit einem funktionsfähigen Backend können wir damit
                    vollständige Datenverwaltung machen.

                    Bietet auch Mehrwerte wie **Batch-Operationen** etc.

                    Also Falls jemand mal eine schnelle CRUD-G:UI braucht: _ng-admin_
                </aside>
            </section>

            <!--
            <section>
                <h3>ng-admin (1)</h3>
                <pre><code style="font-size: .8em;">
var myApp = angular.module('myApp', ['ng-admin']);
myApp.config(['NgAdminConfigurationProvider',
                function (NgAdminConfigurationProvider) {

    var nga = NgAdminConfigurationProvider;
    var admin = nga.application('My Grocery Lists');

    var configureFields = function (view) {
        return view.fields([
            nga.field('id').editable(false),
            nga.field('comment'),
            nga.field('settled', 'boolean'),
            nga.field('date', 'date'),
            nga.field('shoppingItems', 'embedded_list')
                .targetFields([
                    nga.field('quantity', 'number'),
                    nga.field('unit', 'choice').choices([
                        {value: 'pcs', label: 'pieces'},
                        {value: 'kg', label: 'kilogram'},
                        {value: 'g', label: 'gram'},
                        {value: 'l', label: 'litre'}
                    ]),
                    nga.field('name', 'string')
                ])
        ]);
    };
</code></pre>
            </section>
            <section>
                <h3>ng-admin (2)</h3>

                <pre><code style="font-size: .8em;">
    // lists entity
    var list = nga.entity('list');

    list.listView()
        .fields([
            nga.field('comment'),
            nga.field('settled', 'boolean'),
            nga.field('date', 'date')])
        .listActions(['show', 'edit', 'delete'])
        .title("My shopping lists");

    configureFields(list.editionView())
        .title('Edit "{{ entry.values.comment }}"')
        .actions(['show', 'list', 'delete']);
    configureFields(list.showView())
        .title('View "{{ entry.values.comment }}"');
    configureFields(list.creationView());

    admin.addEntity(list);

    nga.configure(admin);
}]);
</code></pre>
            </section>
            -->
        </section>


        <!--
            === Jodd ============================================================================
        -->
        <section>

            <section class="center">
                <img src="img/logo-jodd.png" class="plain tgap" width="1016"/>
                <h3 class="tgap"><em><i>Floppytaugliches Baukastensystem</i></em></h3>

                <aside class="notes" data-markdown>
                    Obwohl der kleinste, betrachtete Kandidat ist Jodd *kein reines Microframework,*
                    denn es ist mehr eine *umfangreiche Sammlung* vieler Teile.

                    Einer daraus – _Madvoc_ – stellt ein Controller-basiertes Web Framework bereit,
                    dass wir uns näher anschauen wollen.
                </aside>
            </section>


            <section>
                <div class="right" style="width: 30%; float: right;">
                    <h2 class="large">Datenblatt</h2>
                    <p class="subline tgap"><i>Komplettes<br>Baukastensystem</i></p>
                    <p class="subline x-small"><span class="decent">an Microframeworks &amp; Tools !</span></p>
                    <p class="small">
                        IoC, AOP,<br>
                        Bean-Validation,<br>
                        SQL/OR-Mapper,<br>
                        HTML Parser, …</p>

                    <p class="x-small">Einzeln einbindbar<br>Alles zusammen: 1,7MB</p>

                    <p class="decent x-small tgapxl">
                        4.2.0 (März 2018), APL2<br>
                        Start: 2009<br>
                        <a href="http://sparkjava.com">https://jodd.org/</a>
                    </p>
                </div>

                <div class="abs" style="position: absolute; z-index: 1; width: 800px; height: 560px; margin-top: 26px;">
                    <!--<iframe style="width: 940px; height: 560px;" src="http://jodd.org/"></iframe>-->
                    <div style="width: 900px; height: 660px; overflow-x: hidden;">
                        <img class="plain" src="img/website-jodd.png"
                             style="max-width: 100%; max-height: inherit;"
                             alt="Website screenshot">
                    </div>
                </div>

                <aside class="notes" data-markdown>
                    Jodd legt viel Wert auf seine schlanke Linie und hat bis vor kurzem komplett
                    sogar noch in das 1,44MB Korsett früherer 3,5" Disketten gepasst. Heute **1,7MB**.

                    Dabei handelt es sich bei Jodd gar nicht um ein einzelnes Framework,
                    sondern eher um eine ganze Sammlung verschiedener Micro-Komponenten.
                </aside>
            </section>

            <section>
                <h3>Jodd Komponenten (Auszug)</h3>
                <p class="subline">
                    <br><img src="img/jodd-components.png" alt="Jodd components" class="plain">
                    <br>Und noch einiges mehr in nur 1,7MB!
                    <br><span class="decent subline">(Validierung, HTTP, Utils, CSS, …)</span>
                </p>

                <aside class="notes" data-markdown>
                    IoC-Container Petite, die AOP-Engine Proxetta, der SQL-basierte O/R-Mapper
                    DbOom, VTor für Bean-Validierungen und weitere Helferlein wie z.B. zur HTML-Verarbeitung.

                    #### Wir betrachten heute nur Madvoc!
                </aside>
            </section>


            <section>
                <!--  @formatter:off -->
                <div data-markdown>
                    ### Jodd – Madvoc: Controller

                    ```java
                    @MadvocAction
                    public class ListAction {

                        @In @Scope(ScopeType.SERVLET)
                        HttpServletRequest request;

                        @RestAction("/list/{id}") @GET
                        public GroceryList getList(@In("id") String id) {
                            return GroceryService.get().getGroceryList(id);
                        }
                        …
                    }
                    ```
                    * Injection von Parametern und Servlet-Werten via `jodd-petite` IoC
                    * Automatische Konvertierung/Serialisierung via `jodd-json`
                    * `Action` optional – dann URL-Pfade via Konventionen
                </div>
                <!--  @formatter:on -->
                <aside class="notes" data-markdown>
                    * Injection am Feld, Parameter durch jodd IoC Container _Petite_
                    * `@RestAction` konfiguriert Rückgabeserialisierung = JSON
                    * JSON Serialisierung durch `jodd-json`
                    * `@MadvocAction` würde URL Konventionen einschalten. Haben wir aber dediziert überschrieben.

                    ---
                    Ansonsten wirkt die API relativ klassische Controllerbasiert. Ähnlich wie
                    wir es auch in Ninja gesehen haben.
                </aside>
            </section>


            <section>
                <!--  @formatter:off -->
                <div data-markdown>
                    ### Jodd – Limitationen in der Praxis

                    *Problem:* JSON Serialisierung/Deserialisierung weitestgehend fix.<br>
                    Format unserer `LocalDate` Instanzen nicht passend.

                    *Workaround:* (De-)Serialisierung selbst in die Hand nehmen:

                    ```java
                    @Action("/list") @POST
                    public MyJsonResult createList(@In @Scope(SERVLET) String jsonString)  {
                        return GroceryService.get().createGroceryList(jsonString));
                    }
                    ```
                    ```java
                    @RenderWith(MyJsonResultRenderer.class)
                    public class JsonResult {
                        private final Object model;
                        private final int status;
                        …
                    ```
                </div>
                <!--  @formatter:on -->

                <aside class="notes" data-markdown>
                    Als Workaround haben wir eine Wrapper-Klasse `JsonResult` geschaffen,
                    die über eine Annotation Madvoc anweist, nicht nach einer passenden
                    JSP-Seite zu suchen, sondern den Rückgabewert über unsere Implementierung
                    des `JsonResultRenderer` zu erzeugen.
                </aside>
            </section>


            <section class="scorecard">
                <div>
                    <!-- Name & Logo -->
                    <div class="name" style="">
                        <h4><img src="img/logo-jodd.png">Jodd (Madvoc)</h4>
                    </div>

                    <!-- Personality -->
                    <div class="personality">
                        <p class="small lh1">
                            Ausgeprägt <br>Leichtgewichtig / Modular / KISS
                        </p>
                        <p class="x-small decent subline" style="margin:  0;">
                            Trotz 1,7MB weit mehr als nur Web-Framework. Geringe Verbreitung.
                        </p>
                    </div>

                    <!-- Bundles -->
                    <div class="bundles decent">
                        <p class="xx-small subline"><br>nichts!</p>
                    </div>

                    <!-- Comment -->
                    <div class="comment small">
                        <p>Große Breite <br>bei geringer Größe & Einfachheit.</p>
                        <p>Microframework at it's best!</p>
                        <p>Öfters Breaking changes. Engagierter Maintainer – aktuell aber in der Sinnkrise</p>
                        <p>In komplexeren Fällen ggf. Rückgriff auf umfassendere Lösungen notwendig</p>
                    </div>

                    <!-- Position indexes -->
                    <div class="micro">&nbsp;|</div>
                    <div class="fun">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</div>
                    <div class="boss">|</div>


                    <!-- Bytecode -->
                    <div class="bytecode"><b>4,9</b></div>

                    <!-- Req/s -->
                    <div class="req">4,9</div>

                    <!-- Avg. Req -->
                    <div class="reqavg">81</div>

                    <!-- Req/s -->
                    <div class="reqdev">45</div>
                </div>

                <aside class="notes" data-markdown>
                    * Trotz großem Umfang ausgeprägtes "Micro"framework
                    * Geringe Bossability, da teilweise breaking changes in der Vergangenheit
                    und der Maintainer aufgrund harscher Kritik in einer Sinnkrise steckt.
                    Zukunft des Projektes unklar.
                    * **Schade!** denn die Modularität mit dem Minimalismus und doch recht
                    großem Leistungsumfang bei sehr sehr geringer Größe hat einen ganz eigenen
                    Charme.
                </aside>
            </section>

        </section>


        <!--
            === Ratpack ============================================================================
        -->
        <section>

            <section class="center">
                <img class="tgap plain" src="img/logo-ratpack.png" width="818"/>
                <h3 class="tgap"><em><i>Reaktiver Entertainer</i></em></h3>

                <aside class="notes" data-markdown>
                    Der vorletzte Vertreter in unserer Riege gehört zu den
                    Anhänger der **Reaktiven Programmierung** und hat damit
                    **konzeptionelle Gemeinsamkeiten z.B. mit Vert.X**.
                </aside>
            </section>


            <section>
                <div class="right" style="float: right; width: 28%;">
                    <h2 class="large">Datenblatt</h2>
                    <p>Reaktiv, Asynchron<br>
                        Event-basiert,<br>
                        stark typisiert</p>
                    <p class="decent subline x-small">hohe Ähnlichkeit mit Vert.X</p>
                    <p class="x-small tgap"><i>Basis:</i><br> Java 8, Netty &amp; Promises</p>
                    <p class="x-small tgap"><i>Zahlreiche Module:</i><br>
                        Guice, Groovy, Jackson, Redis, Hystrix, Templating
                    </p>

                    <p class="decent x-small tgapxl">
                        1.5.3 (März 2018), APL2<br>
                        Start: 2012<br>
                        <a href="https://ratpack.io/">https://ratpack.io/</a>
                    </p>
                </div>

                <div class="abs" style="position: absolute; z-index: 1; width: 800px; height: 560px; margin-top: 26px;">
                    <!--<iframe style="width: 940px; height: 560px;" src="https://ratpack.io/"></iframe>-->
                    <div style="width: 900px; height: 680px; overflow-x: hidden;">
                        <img class="plain" src="img/website-ratpack.png"
                             style="max-width: 100%; max-height: inherit;"
                             alt="Website screenshot">
                    </div>
                </div>

                <aside class="notes" data-markdown>
                    **Hohe Skalierbarkeit** und vereinfachte Entwicklung der **Event-basierenden
                    Programmierung asynchroner Anwendungen** gehören zu den primären Design-Zielen
                    von Ratpack.

                    Dazu will Ratpack ganz im Sinne eines Microframework weder eine
                    komplette Full-Stack Lösung sein und **keine unnötige Annahmen** bezüglich der
                    sonstigen Tools & Bibliotheken treffen.

                    **Zahlreiche Zusatzmodule bieten optionale Integrationen**
                    z.B. für Guice, Groovy, Jackson oder Spring Boot.

                    Das Java 8-basierte Microframework setzt auf die NIO Client-Bibliothek
                    Netty für die asynchrone Verarbeitung der HTTP-Requests.

                </aside>
            </section>


            <section data-markdown>
                <textarea data-template>
                    ### Ratpack – Asynchrone Verarbeitung
                    _Handler_ können (asynchron) Requests beantworten <br>
                    oder an bestehende bzw. ad-hoc erzeugte Handler delegieren

                    _Jede Anfrage wird letztlich durch eine Kette von Handlern verarbeitet._

                    ```java
                    // Unser Handler für POST /list
                    public void createGroceryList(Context ctx) {
                        // Asynchron auf Parsen warten: Rückgabe = Promise
                        ctx.parse(GroceryList.class).then(newList -> {
                            ctx.render(json(repository.createList(newList)));
                        });
                    }
                    ```

                    Für die Asynchronität verarbeitet und liefert Ratpack _Promises_

                    NOTE:
                    Handler stellen das zentrale Konstrukt zum Verarbeiten von HTTP-Anfragen
                    in Ratpack dar. Jeder Handler kann entweder den Request beantworten,
                    ihn an den nächsten Handler weitergeben oder ad hoc neue in die
                    Verarbeitungskette einfügen und sofort an diese delegieren.

                    **Jede Anfrage wird letztlich also nur durch eine Kette von Handlern verarbeitet.**

                    Für die asynchrone Verarbeitung setzt Ratpack auf Promises.

                    Der Handler für das Anlegen muss erst einmal darauf warten,
                    dass die Daten vollständig angekommen sind. Daher erhält der
                    Handler also nicht das konkrete GroceryList-Objekt, sondern
                    nur ein Promis als Platzhalter.

                    **Aber:** Das hier ist nur ein einfaches Beispiel!

                    Das geht schon z.B. los beim Anlegen/Konfigurieren der Routen…
                </textarea>
            </section>


            <section>
                <!--  @formatter:off -->
                <div data-markdown style="font-size: 80%;">
                ### Ratpack – Handler Factory (statische Routen)
                ```java
                public static void main(String... args) throws Exception {
                  ObjectMapper objectMapper = ModelSerializer.buildConfiguredObjectMapper();
                  GroceryService service = new GroceryService();

                  RatpackServer.start(server -> server
                      .serverConfig(configBldr -> configBldr.baseDir(BaseDir.find()).development(true).port(8080))
                      .registryOf(r -> r.add(objectMapper))
                      .handlers(chain -> chain
                              // 1. URL: /list
                          .prefix("list", nested -> {
                            nested.path(ctx -> ctx.byMethod(method -> {
                              // 2. POST   ---> Delegation an unseren vorherigen Handler! ---
                              method.post(() -> service.createGroceryList(ctx));
                              method.get(() -> service.getAllGroceryLists(ctx));
                            }));
                            nested.path(":id", ctx -> ctx.byMethod(method -> {
                              method.put(() -> service.updateGroceryList(ctx));
                              method.get(() -> service.getGroceryList(ctx));
                              method.delete(() -> service.deleteGroceryList(ctx));
                            }));
                          })
                          .files(f -> f.indexFiles("index.html"))
                      )
                  );
                }
                ```
                **Verschachtelte Entscheidungslogik:** Recht verwirrend und wenig intuitiv.
                </div>
                <!--  @formatter:on -->
                <aside class="notes" data-markdown>
                    Beim Anwendungsstart gilt es, innerhalb der **Launch Configuration**
                    die **Handler Factory zu erstellen.**
                </aside>
            </section>


            <section data-markdown>
                <textarea data-template>
                    ### Ratpack – dynamisches Re-routing

                    Zur Laufzeit dynamische Delegation an andere Handler<br>
                    z.B. basierend auf der Request-URL
                    ```java
                    public class Router implements Handler {
                      private final Handler fooHandler = new FooHandler();
                      private final Handler barHandler = new BarHandler();

                      public void handle(Context context) {
                        String path = context.getRequest().getPath();
                        if (path.equals("foo")) {
                          context.insert(fooHandler);
                        } else if (path.equals("bar")) {
                          context.insert(barHandler);
                        } else {
                          context.next();
                        }
                      }
                    }
                    ```

                    NOTE:
                    Hier sieht man ein Biespiel, wie zur Requestverarbeitung dynamisch
                    weitere Handler in die Verarbeitungskette injiziert werden.

                    Es war vorhin schon schwer zu verstehen.
                    … Und nun auch noch hierbei noch den Überblick zu behalten

                    **Man merkt: Ich bin kein großer Freund dieses Ansatzes**
                </textarea>
            </section>


            <section class="scorecard">
                <div>
                    <!-- Name & Logo -->
                    <div class="name">
                        <h4><img src="img/logo-ratpack.png">Ratpack</h4>
                    </div>

                    <!-- Personality -->
                    <div class="personality">
                        <p class="lh1">
                            Asynchron <br> non-blocking <br> reaktiv
                        </p>
                        <p class="x-small decent subline" style="margin:  0;">
                        </p>
                    </div>

                    <!-- Bundles -->
                    <div class="bundles decent">
                        <p class="x-small subline"><br>Netty, Jackson, Javassist, SnakeYaml, slf4j</p>
                    </div>

                    <!-- Comment -->
                    <div class="comment small">
                        <p>Interessanter Ansatz & Konzept</p>
                        <p>Problematisch: viele Lücken in der Dokumentation</p>
                        <p class="decent">Asynchronen Programmierung
                            in Kombination mit vielen Lambda-Ausdrücke begrenzt
                            intuitiv.</p>
                        <p>Komplexität vs. Gewinn?</p>

                    </div>

                    <!-- Position indexes -->
                    <div class="micro">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</div>
                    <div class="fun">&nbsp;|</div>
                    <div class="boss">|</div>


                    <!-- Bytecode -->
                    <div class="bytecode"><b>9,5</b></div>

                    <!-- Req/s -->
                    <div class="req">4,5</div>

                    <!-- Avg. Req -->
                    <div class="reqavg">87</div>

                    <!-- Req/s -->
                    <div class="reqdev">31</div>
                </div>

                <aside class="notes" data-markdown>
                    * **Interessantes Konzept** – aber was sind die Vorteile?
                    * Wenn wir mal für unser Mini-Beispiel sehen, dann sind diese nicht ersichtlich:
                    **ausgeprägtes Mittelfeld**
                    * Verschärfend kommt hinzu, dass die Dokumentation viele Lücken läßt.
                    Einfache Dinge, die in anderen Frameworks gar keiner Erklärung bedürfen,
                    werden erklärt. Aber schon komplexere Lösungen erfordern Eigenrecherche.

                    **Fazit: Ingenieursspielzeug!**
                </aside>
            </section>


        </section>


        <!--
            === Spring Boot ========================================================================
        -->
        <section>

            <section class="center">
                <img class="tgap plain" src="img/logo-spring.png" width="818"/>
                <h3 class="tgap"><em><i>Start für den Platzhirsch</i></em></h3>

                <aside class="notes" data-markdown>
                    Zeit, dass wir uns dem letzten Kandidaten und zugleich dem
                    Platzhirschen auf dem Platz zuwenden. „Spring Boot“.

                    Und zwar betrachten wir hierbei die erst vor kurzem brandneu erschienene
                    **Spring Boot 2** in Kombination mit Spring 5 und dem neuen, reaktiven
                    Web-Framework **Spring WebFlux**
                </aside>
            </section>


            <section>
                <div class="right" style="width: 30%; float: right;">
                    <h2 class="large">Datenblatt</h2>
                    <p class="subline tgap"><i>CoC für Spring<br>= Full-stack<br>
                        Auswahl an „Starters"<br>
                        Maven-zentrisch</i></p>
                    <p class="x-small"><i>Ziele</i> <br>
                        Möglichst viel Autokonfiguration<br>
                        Standalone Apps<br>
                        „Opinionated“ Vorlagen<br>
                    </p>
                    <p class="x-small"><i>Hier gewählt</i> <br>Spring 5 mit WebFlux (reaktiv)</p>

                    <p class="decent x-small tgapxl">
                        2.0.0 (März 2018), APL2<br>
                        <a href="https://projects.spring.io/spring-boot/">
                            https://projects.spring.io/
                        </a>
                    </p>
                </div>

                <div class="abs" style="position: absolute; z-index: 1; width: 800px; height: 560px; margin-top: 26px;">
                    <!--<iframe style="width: 940px; height: 560px;"
                    src="https://projects.spring.io/spring-boot/"></iframe>-->
                    <div style="width: 900px; height: 560px; overflow-x: hidden;">
                        <img class="plain" src="img/website-springboot.png"
                             style="max-width: 100%; max-height: inherit;"
                             alt="Website screenshot">
                    </div>
                </div>

                <aside class="notes" data-markdown>
                    Spring Boot ist vorrangig eine Konventionssammlung für das komplette
                    Spring Framework. Als nutzer wähle ich **durch Auswahl**  und Kombination
                    entsprechender **Starter** aus, **welches Default-Verhalten** ich wünsche.

                    Schon in diesem Punkt flexibler als z.B. Ninja.

                    Spring Boot möchte also **opinionated Vorlagen** für **Standalone** Webapps
                    bieten.
                </aside>
            </section>

            <section data-markdown>
                <textarea data-template>
                    ### Spring Boot 2 – Spring 5 – WebFlux

                    ```java
                    @RestController
                    @RequestMapping(produces = MediaType.APPLICATION_JSON_VALUE)
                    public class GroceryListController {

                        @GetMapping(path = "/list")
                        Flux&lt;GroceryList> listStream() {
                            return repository.getLists();
                        }

                        @PutMapping(value = "/list/{id}",
                                    consumes = MediaType.APPLICATION_JSON_VALUE)
                        public Mono&lt;GroceryList> updateList(
                                    @PathVariable(value = "id") UUID id,
                                    @RequestBody GroceryList updatedList) {
                            return repository.updateList(id, updatedList);
                        }

                     …
                    ```

                    NOTE:
                    * API sehr **nahe am alten Spring MVC**.
                    *  Dabei sind`Flux` & `Mono` = Reactive Streams Implementierung _Reactor_
                    * Mit `@RestController`, welche ein Alias für Spring Web Annotation `Controller`
                    und `ResponseBody` ist, markieren wir die Klasse für die Autoerkennung.
                    * `produces` erklärt, dass wir JSON-Werte zurückgeben möchten. **In echtem
                    reaktiver Manier würden wir hier eher einen Stream zurückgeben wollen!**
                    * Der Rest sehr analog anderen Controller-basierten Ansätzen die wir bereits gesehen haben.

                    ---
                    * Haben heute schon elegantere APIs gesehen; Altlasten aus Spring MVC
                    * Prägnanz fehlt, wir z.B. das zusätzlich notwendige `consumes`
                </textarea>
            </section>


            <section data-markdown>
                <textarea data-template>
                    ### WebFlux – `index.html` als `/` ausliefern

                    Ohne Google kann einfaches auch kompliziert sein.

                    ```java
                    /**
                     * Dirty hack to redirect / to /index.html.
                     * @see https://github.com/spring-projects/spring-boot/issues/9785
                     */
                    @Component
                    public class RedirectToIndexHtmlWebFilter implements WebFilter {
                      public Mono&lt;Void> filter(ServerWebExchange exchg, WebFilterChain chain) {
                        if (exchg.getRequest().getURI().getPath().equals("/")) {
                           return chain.filter(exchg.mutate().request(
                                     exchg.getRequest().mutate().path("/index.html").build()
                                  ).build());
                        }
                        return chain.filter(exchg);
                      }
                    }
                    ```

                    NOTE:
                    Die Aufgabe war einfach: Wir möchten einfach '/' auf '/index.html' umrouten.
                    Ohne Stackoverflow und Google habe ich das allerdings nicht hinbekommen.

                    Das Beispiel belegt, **das Spring Boot viel Komplexität hinter einfacher
                    Oberfläche versteckt, aber bereits einfachste "Sonderfälle" schnell extremes
                    Expertenwissen erforderlich machen.**

                    **Etwas, was in echten Microframeworks nicht notwendig ist**, da dort die
                    Lösung in der Regel einfach und komplett überschaubar ist.
                </textarea>
            </section>


            <section class="scorecard">
                <div>
                    <!-- Name & Logo -->
                    <div class="name" style="">
                        <h4><img src="img/logo-spring.png">Spring Boot</h4>
                    </div>

                    <!-- Personality -->
                    <div class="personality">
                        <p class="small lh1">
                            Mainstream. Full-stack.
                        </p>
                        <p class="x-small decent subline" style="margin:  0;">
                            Kein "Micro" – eher ganze Landschaft
                        </p>
                    </div>

                    <!-- Bundles -->
                    <div class="bundles decent">
                        <p class="xx-small subline">Spring Boot, Spring Web/Beans/Core/JCL,
                            <br>WebFlux, Reactor/ReactiveStreams, Netty
                            <br>Hibernate Validator, slf4j, SnakeYaml, Logback, Jackson</p>
                    </div>

                    <!-- Comment -->
                    <div class="comment small">
                        <p>Viel Automagie. <br>Hohe Komplexität & Lernkurve</p>
                        <p>Detailanforderungen können schnell Expertenwissen erfordern</p>
                        <p>Höchstes Niveau an <br>Support & Verbreitung</p>
                        <p>Umfangreiche Dokumentation</p>
                    </div>

                    <!-- Position indexes -->
                    <div class="micro">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</div>
                    <div class="fun">&nbsp;&nbsp;&nbsp;|</div>
                    <div class="boss">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</div>


                    <!-- Bytecode -->
                    <div class="bytecode"><b>16</b></div>

                    <!-- Req/s -->
                    <div class="req orange">4,1</div>

                    <!-- Avg. Req -->
                    <div class="reqavg orange">98</div>

                    <!-- Req/s -->
                    <div class="reqdev red">149</div>
                </div>

                <aside class="notes" data-markdown>
                    * Spring Boot – sei der initiale Code-Aufwand noch so gering - ist **ganz klar
                    kein Microframework** sondern eindeutig Fullstack mit einer ganzen Landschaft.

                    **Dafür ist es absolut Mainstream: Daher maximale Punktezahl bei der _Bossability!_**.

                    Viel Automagie – zur Behersschung muss man das Spring Framework doch vollständiger
                    erfasst haben. Nichts was eben mal auf die Schnelle geht.

                    ---
                    Auffällig war nicht nur der der schlechteste Durchsatz, sondern insbesondere
                    die Ausreisser in den Antwortzeiten. Sehen wir nacher noch.

                    Was den Bytecode-Umfang anbetrifft: Kein Ruhmesblatt – aber hätte fast mehr erwartet.
                </aside>
            </section>

        </section>


        <!--
          === Demo App: Benchmarking =================================================================
        -->
        <section>
            <section>
                <h3>Benchmark Crunchdown <br>(Bytecode Size)</h3>

                <div class="ct-chart" id="bytechart"></div>
                <span class="decent">All-in-one JAR</span>

                <aside class="notes" data-markdown>
                    * Größe = singe `.JAR` als Standalone für unsere Demo-App.
                    * Spark, Jodd, Pippo sind als echte Microframeworks auch beim
                    Umfang "Micro".
                    * Teilweise in die Größe spielt rein: Manchmal Jetty, manchmal Undertow.
                </aside>

                <script>
                    new Chartist.Bar('#bytechart', {
                        labels: ["Spark", "Ratpack", "Ninja", "Jodd", "Spring 5", "Pippo"],
                        series: [[2.7, 9.5, 25, 4.9, 16, 3.9]]
                    }, {
                        width: 900,
                        height: 500,
                        seriesBarDistance: 10,
                        reverseData: true,
                        horizontalBars: true,
                        onlyInteger: true,
                        axisY: {
                            offset: 200
                        },
                        axisX: {
                            offset: 60,
                            scaleMinSpace: 150
                        }
                    });
                </script>
            </section>

            <section>
                <h3>Benchmark Crunchdown <br>(Request Duration)</h3>

                <div class="ct-chart" id="reqchart"></div>
                <code class="x-small">$ ab -n 400000 -c 400 "http://localhost:8080/list?_page=1&_…"</code>

                <aside class="notes" data-markdown>
                    * Wir haben einfach 0,4 Mio Requests auf die Einkaufslistenliste mit parallel 400
                    Nutzern getestet. Die URL-Parameter sind ohne Effekt aber zu Zwecken um die Request-
                    Verarbeitung zu testen drin.
                    * Rot (hell+dunkel) = Mittelwert. Hellrot+Gelb = Feld der Standardabweichung
                    * Wer möchte kann auch gerne die Referenzanwendungen austesten und eigenen
                    Experiemten/Tests wagen. Dafür das `benchmark.sh`.

                    ---
                    **Wichtig: Die Benchmarks sind nicht das Maß aller Dinge sondern meehr Quick & Dirty!**
                    Es spielen doch noch einige andere Faktoren wie verwendeter Servelet-Container
                    (Jetty, Undertow, Netty) oder Serialisierungsbibliothek mit rein. Also nicht normiert.
                    Zudem keinerlei Tuning.
                </aside>

                <script>
                    new Chartist.Bar('#reqchart', {
                        labels: ["Spark", "Ratpack", "Ninja", "Jodd", "Spring 5", "Pippo"],
                        series: [
                            [81 - 39, 87 - 31, 2, 81 - 45, 20, 81 - 33],
                            [39, 31, 80, 45, 78, 33],
                            [39, 31, 25, 45, 149, 33]
                        ]
                    }, {
                        width: 1000,
                        height: 500,
                        high: 300,
                        reverseData: true,
                        stackBars: true,
                        horizontalBars: true,
                        onlyInteger: true,
                        axisY: {
                            offset: 200
                        },
                        axisX: {
                            offset: 120,
                            scaleMinSpace: 100
                        }
                    });
                </script>
            </section>

            <section>
                <img src="img/benchmark-spring5.jpg" alt="Spring 5 Benchmark Plot"
                     style="width: 50%">
                <aside class="notes" data-markdown>
                    Hier das Spring Boot Beispiel mit seinen kontinuierlich Hohen Außreisern.
                    Ich vermute GC.
                </aside>
            </section>

            <section>
                <img src="img/benchmark-pippo.jpg" alt="Pippo Benchmark Plot"
                     style="width: 50%">
                <aside class="notes" data-markdown>
                    Zum Vergleich Pippo, das wir heute nicht näher betrachtet haben:

                    Sehr schön: Nach anfänglichem Start sehr stabile, geringe Antwortzeiten.
                </aside>
            </section>

        </section>

        <!--
            === Outro   ============================================================================
        -->
        <section>

            <section data-markdown class="small">
                <textarea data-template>
### Weitere Contenders
| Framework     | Kommentar |
| ------------: | --------- |
| [Pippo.ro](http://www.pippo.ro/)   | Routen oder Controller-Ansatz. Modular. <br>Vergleichbar mit Spark. <br>  Sehr schlecht dokumentiert. |
| [Javalite.io](http://javalite.io/)  | Controller, Freemarker Views, DB Migration. <br> Microframework-Version von Ninja. |
| [jooby.org](https://jooby.org/)    | Routen oder Controller-Ansatz. <br>Ähnlichkeiten zum Spark. |
| [Bootique.io](https://bootique.io/)| Controller-basiert. Sehr viele Module & Integrationen. <br> Potentieller Sweet-Spot zwischen Spark und Ninja. |
                </textarea>
            </section>


            <section data-background-image="img/david-siglin-87978-unsplash.jpg">
                <!-- Bild mit Klempner -->
                <div class="small subline abs left fragment"
                     style="width: 600px; left: 720px;">
                    <h3>Micro macht Spaß!</h3>

                    <span class="fragment">
                        <em>Risiken:</em><br>Traktion, Stabilität, geringe Verbreitung<br>
                        <br>
                    </span>

                    <span class="fragment">
                        <em>Gegenstrategie:</em><br>
                        Fokus: Micro &amp; gute Verständlichkeit;
                        Bereitschaft, Bugs ggf. selbst zu lösen
                    </span>
                    <div>

                        <aside class="notes" data-markdown>
                            Wir haben es bereits in der Eingangsdemo gesehen: Weniger kann richtig Spaß machen!

                            Risiko bei allen Kandidation: Traktion & Stabilität und ihre geringe Verbreitung.

                            Gegenstrategie kann nur sein, sich Kandidaten mit überschaubarem Umfang
                            und guter Verständlichkeit auszusuchen wie z.B. Spark kombiniert mit der
                            Bereitschaft & Fähigkeit selber Bugs zu lösen.
                        </aside>

            </section>


            <section class="left">
                <h4>Materialien, Links &amp; Weiterführendes</h4>
                <div data-markdown class="threecol small">
                    ###### Microframeworks
                    * [sparkjava.com](http://sparkjava.com/)
                    * [ninjaframework.org](http://www.ninjaframework.org/)
                    * [jodd.org](https://jodd.org/)
                    * [ratpack.io](https://ratpack.io/)
                    ---
                    * [pippo.ro](http://www.pippo.ro/)
                    * [jooby.org](http://jooby.org/)
                    * [Javalite.io](http://javalite.io/)
                    * [bootique.io](https://bootique.io/)
                    ---
                    * [REST Service w/o any
                    Framework](https://www.stubbornjava.com/posts/lightweight-embedded-java-rest-server-without-a-framework)
                    only with
                    [Undertow container](http://undertow.io/)
                </div>
                <div data-markdown class="threecol small">
                    ###### Efficency
                    * [projectlombok.org](https://projectlombok.org/)

                    ###### Sonstiges
                    * Präsentation via [reveal.js](https://revealjs.com)
                    * Photos via [unsplash.com](https://unsplash.com/)
                    * Charts via [chartist.js](https://gionkunz.github.io/chartist-js/)
                </div>
                <div data-markdown class="threecol small">
                    ###### Vom Autor
                    * [*@bentolor*](http://twittter.com/bentolor)
                    * [*Java++*: Effiziente &amp; sichere JVM-Entwicklung mit
                    Kotlin](https://bentolor.github.io/kotlin-talk/)
                    * [`idea-cli-inspector`](https://github.com/bentolor/idea-cli-inspector)

                    <!--sponsored by [![exxcellent Logo](img/logo-exxcellent-transparent.png)]-->
                    <!--(https://www.exxcellent.de/)-->
                </div>

                <div class="abs small"
                     style="padding: 0 .8em; width: 720px; left:420px;top: 460px;
                        background-color: rgba(120,120,180, 0.2);
                        border: 1px solid #333;">

                    <img src="img/qrcode-github-url.png" alt="GitHub Link"
                         style="float: right;">
                    <div style="float: left; margin-top: 2.4em;">
                        Referenzprojekt und HTML5 Slides: <br>
                        <a class="x-small" href="https://github.com/bentolor/microframeworks-showcase/">
                            https://github.com/bentolor/microframeworks-showcase/
                        </a>

                    </div>

                </div>

            </section>

        </section>

    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<!-- hide "verbatim" sections if URL contains "terse"-Keyword -->
<script>
    if (window.location.search.match(/terse/gi)) {
        var sections = document.getElementsByTagName('section');
        for (var i = sections.length - 1; i > -1; --i) {
            if (sections[i].hasAttribute("data-verbatim")) {
                sections[i].remove();
            }
        }
    }
</script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        history: true,
        progress: true,
        slideNumber: true,
        mouseWheel: true,
        controls: false,
        fragments: true,
        width: 1280,
        height: 720,
        margin: 0.1,
        maxScale: 10,
        center: false,
        parallaxBackgroundImage: 'img/r_-r-507738-unsplash-white.jpg',
        parallaxBackgroundSize: '2835px 1883px',

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            {src: 'plugin/markdown/marked.js'},
            {src: 'plugin/markdown/markdown.js'},
            {src: 'plugin/notes/notes.js', async: true},
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                    // noinspection JSUnresolvedVariable
                    hljs.initHighlightingOnLoad();
                }
            },
            {src: 'plugin/zoom-js/zoom.js', async: true}  // Zoom in and out with Alt+click
        ]
    });
</script>

<script>
    <!-- Hack to increase video playbackRate -->
    Reveal.addEventListener('ready', function () {
        document.querySelectorAll("video").forEach(function (v) {
            v.playbackRate = 1.0;
        });
    }, false);
</script>


</body>
</html>
